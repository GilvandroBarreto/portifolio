<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="style.css" />
    <title>Document</title>
  </head>
  <body>
    <header class="header-container">
      <h1>TO DO List</h1>
    </header>
    <main class="main-container">
      <form class="form-container">
        <div class="form-inputs">
          <h2 class="form-title">What to do today?</h2>
          <label for="title">Title:</label>
          <input
            type="text"
            id="input_title"
            name="title"
            minlength="2"
            maxlength="20"
            required
          />

          <label for="description">Description:</label>
          <input
            type="text"
            id="input_description"
            name="description"
            minlength="2"
            maxlength="20"
            required
          />

          <div class="input_range">
            <div>
              <label for="impact" id="impact_text" style="">Impact:</label>
              <output id="value_range" style='color:#ef233c'></output>
            </div>
            <input
              type="range"
              id="input_impact"
              name="impact"
              min="1"
              max="4"
              step="1"
              value="1"
              required
            />
          </div>

          <label for="date">Hour:</label>
          <input type="time" id="input_date" name="date" required />

          <div class="submit-button">
            <input type="button" id="form-container" onclick="addItem()" value="Create"></input>
          </div>
        </div>
      </form>
      <div class="dashboard">
        <table>
          <thead>
            <tr>
              <th>Title</th>
              <th>|</th>
              <th>Description</th>
              <th>|</th>
              <th>Impact</th>
              <th>|</th>
              <th>Hour</th>
              <th>|</th>
              <th>Remove</th>
            </tr>
          </thead>
          <tbody id="data"></tbody>
        </table>
      </div>
     
    </main>
    <script>
      const input1 = document.querySelector('#input_impact');
      const value = document.querySelector('#value_range');
      value.textContent = input1.value;
      input1.addEventListener('input', (event) => {
        value.textContent = event.target.value;
      });

      var changeColor = document.getElementById('input_impact');
      changeColor.addEventListener('click', (event) => {
          x = document.getElementById('value_range');
          switch(x.value){
            case '1':
              x.style.color = 'red';
              break;
            case '2':
              x.style.color = '#e85d04';
              break;
            case'3':
              x.style.color = '#168aad';
              break;
            case '4':
              x.style.color = '#4f772d';
              break;
            default:
              break;
          };
       });

      function addItem() {
        var tbody = document.querySelector('#data');
        var linha = document.createElement('tr');
        var data1 = document.createElement('td');
        var data2 = document.createElement('td');
        var data3 = document.createElement('td');
        var data4 = document.createElement('td');
        var data5 = document.createElement('td');
        var data6 = document.createElement('td');
        var data7 = document.createElement('td');
        var data8 = document.createElement('td');
        var remover = document.createElement("input");  
        remover.type = 'button';
        remover.style.width = '1.5rem'; 
        remover.value = 'X';
        remover.onclick = function() {
          var nodelist = this.parentElement;
          nodelist.style.display = "none"; 
         };          

        data1.innerHTML = document.getElementById('input_title').value;
        data2.innerHTML = '|';
        data3.innerHTML = document.getElementById('input_description').value;
        data4.innerHTML = '|';
        data5.innerHTML = document.getElementById('input_impact').value;
        switch(data5.innerHTML){
            case '1':
            data5.style.color = 'red';
              break;
            case '2':
            data5.style.color = 'orange';
              break;
            case'3':
            data5.style.color = '#00b4d8';
              break;
            case '4':
            data5.style.color = 'green';
              break;
            default:
              data5.style.color = '#00b4d8';
              break;
          };
        data6.innerHTML = '|';
        data7.innerHTML = document.getElementById('input_date').value;
        data8.innerHTML = '|';
        
        linha.appendChild(data1);
        linha.appendChild(data2);
        linha.appendChild(data3);
        linha.appendChild(data4);
        linha.appendChild(data5);
        linha.appendChild(data6);
        linha.appendChild(data7);
        linha.appendChild(data8);
        linha.appendChild(remover);
        tbody.appendChild(linha);
        document.getElementById("input_title").value = "";
        document.getElementById("input_description").value = "";
        document.getElementById("input_date").value = "";
      }
    </script>
  </body>
</html>


